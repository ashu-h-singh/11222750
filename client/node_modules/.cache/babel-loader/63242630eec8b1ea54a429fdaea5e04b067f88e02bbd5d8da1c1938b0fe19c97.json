{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\URL\\\\client\\\\src\\\\components\\\\Shortener.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport PulseLoader from \"react-spinners/PulseLoader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiUrl = process.env.REACT_APP_API_URL;\nexport default function Shortener(props) {\n  _s();\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  function handleInputChange(e) {\n    const {\n      value\n    } = e.target;\n    setInput(value);\n  }\n  async function handleClick() {\n    if (input === '') return;\n    setLoading(true);\n    try {\n      const response = await fetch(`${apiUrl}/`, {\n        method: 'POST',\n        body: JSON.stringify({\n          url: input\n        }),\n        headers: {\n          \"Content-type\": \"application/json\"\n        }\n      });\n      if (response.status === 404) {\n        alert('Unable to reach server');\n        setInput(\"\");\n        setLoading(false);\n        return;\n      }\n      const data = await response.json();\n      if (!response.ok) {\n        alert(data.message);\n        setInput(\"\");\n        setLoading(false);\n        return;\n      }\n      const newItem = {\n        url: input,\n        shortUrl: data.shortUrl\n      };\n      props.addLink(newItem);\n      setInput(\"\");\n      setLoading(false);\n    } catch (err) {\n      alert('Server Error');\n      setInput(\"\");\n      setLoading(false);\n    }\n  }\n  const override = {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"shortener rounded-lg\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"url\",\n          placeholder: \"Shorten a link here...\",\n          id: \"input\",\n          onChange: handleInputChange,\n          value: input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"warning\",\n          children: \"Please add a link\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-cta\",\n        type: \"button\",\n        onClick: handleClick,\n        disabled: loading,\n        children: loading ? /*#__PURE__*/_jsxDEV(PulseLoader, {\n          color: 'white',\n          cssOverride: override,\n          size: 11,\n          \"aria-label\": \"Loading Spinner\",\n          \"data-testid\": \"loader\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this) : 'Shorten it!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 12\n  }, this);\n}\n_s(Shortener, \"v6sYrMEM3U+mIWhUkWLxi7xrRU8=\");\n_c = Shortener;\nvar _c;\n$RefreshReg$(_c, \"Shortener\");","map":{"version":3,"names":["useState","PulseLoader","jsxDEV","_jsxDEV","apiUrl","process","env","REACT_APP_API_URL","Shortener","props","_s","input","setInput","loading","setLoading","handleInputChange","e","value","target","handleClick","response","fetch","method","body","JSON","stringify","url","headers","status","alert","data","json","ok","message","newItem","shortUrl","addLink","err","override","display","justifyContent","alignItems","className","children","type","placeholder","id","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","color","cssOverride","size","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Desktop/URL/client/src/components/Shortener.jsx"],"sourcesContent":["import { useState } from \"react\"\r\nimport PulseLoader from \"react-spinners/PulseLoader\";\r\nconst apiUrl = process.env.REACT_APP_API_URL\r\n\r\nexport default function Shortener(props) {\r\n    const [input, setInput] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    function handleInputChange(e) {\r\n        const { value } = e.target\r\n        setInput(value)\r\n    }\r\n\r\n    async function handleClick() {\r\n        if (input === '') return;\r\n        \r\n        setLoading(true)\r\n        try {\r\n            const response = await fetch(`${apiUrl}/`, {\r\n                method: 'POST',\r\n                body: JSON.stringify({ url: input }),\r\n                headers: {\r\n                    \"Content-type\": \"application/json\"\r\n                },\r\n            })\r\n            if(response.status === 404) {\r\n                alert('Unable to reach server')\r\n                setInput(\"\")\r\n                setLoading(false)\r\n                return;\r\n            }\r\n\r\n            const data = await response.json()\r\n\r\n            if (!response.ok) {\r\n                alert(data.message)\r\n                setInput(\"\")\r\n                setLoading(false)\r\n                return;\r\n            }\r\n\r\n            const newItem = {\r\n                url: input,\r\n                shortUrl: data.shortUrl\r\n            }\r\n            props.addLink(newItem)\r\n            setInput(\"\")\r\n            setLoading(false)\r\n        }\r\n        catch (err) {\r\n            alert('Server Error')\r\n            setInput(\"\")\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const override = {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    }\r\n\r\n    return <div className=\"shortener rounded-lg\">\r\n        <form className=\"\">\r\n            <div className=\"input-area\">\r\n                <input type=\"url\" placeholder=\"Shorten a link here...\" id=\"input\" onChange={handleInputChange} value={input} />\r\n                <p className=\"warning\">Please add a link</p>\r\n            </div>\r\n            <button className=\"btn-cta\" type=\"button\" onClick={handleClick} disabled={loading}>\r\n                {loading ?\r\n                <PulseLoader\r\n                    color={'white'}\r\n                    cssOverride={override}\r\n                    size={11}\r\n                    aria-label=\"Loading Spinner\"\r\n                    data-testid=\"loader\"\r\n                />\r\n                : 'Shorten it!'}\r\n            </button>\r\n        </form>\r\n    </div>\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}